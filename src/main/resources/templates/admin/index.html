<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <title>Admin panel</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--</head>-->
<!--<body>-->

<!--<div class="container mt-4">-->
<!--    <h1>Admin panel</h1>-->
<!--    <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#addUserModal">Добавить нового пользователя</button>-->

<!--    <table class="table table-striped">-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <th>ID</th>-->
<!--            <th>Имя</th>-->
<!--            <th>Имя пользователя</th>-->
<!--            <th>Email</th>-->
<!--            <th>Роли</th>-->
<!--            <th>Действия</th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--        <tr th:each="user : ${users}">-->
<!--            <td th:text="${user.id}"></td>-->
<!--            <td th:text="${user.name}"></td>-->
<!--            <td th:text="${user.username}"></td>-->
<!--            <td th:text="${user.email}"></td>-->
<!--            <td>-->
<!--        <span th:each="role, iterStat : ${user.roles}">-->
<!--            <span th:text="${role.name}"></span><span th:if="${!iterStat.last}">, </span>-->
<!--        </span>-->
<!--            </td>-->
<!--            <td>-->
<!--                <button class="btn btn-sm btn-warning"-->
<!--                        data-bs-toggle="modal"-->
<!--                        data-bs-target="#editUserModal"-->
<!--                        th:attr="data-id=${user.id},-->
<!--                         data-name=${user.name},-->
<!--                         data-username=${user.username},-->
<!--                         data-email=${user.email},-->
<!--                         data-roles=${#strings.listJoin(#lists.map(user.roles, 'id'), ',')}">-->
<!--                    Редактировать-->
<!--                </button>-->
<!--                <form th:action="@{/admin/{id}(id=${user.id})}" method="post" style="display:inline-block">-->
<!--                    <input type="hidden" name="_method" value="delete">-->
<!--                    <button type="submit" class="btn btn-sm btn-danger">Удалить</button>-->
<!--                </form>-->
<!--            </td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--    </table>-->
<!--</div>-->

<!--&lt;!&ndash; Add User Modal &ndash;&gt;-->
<!--<div class="modal fade" id="addUserModal" tabindex="-1">-->
<!--    <div class="modal-dialog">-->
<!--        <div class="modal-content">-->
<!--            <form th:action="@{/admin}" th:object="${newUser}" method="post">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title">Добавить нового пользователя</h5>-->
<!--                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <div class="mb-3">-->
<!--                        <label>Имя</label>-->
<!--                        <input type="text" th:field="*{name}" class="form-control" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label>Имя пользователя</label>-->
<!--                        <input type="text" th:field="*{username}" class="form-control" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label>Email</label>-->
<!--                        <input type="email" th:field="*{email}" class="form-control" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label>Роли</label>-->
<!--                        <select th:field="*{roles}" multiple class="form-select">-->
<!--                            <option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.name}"></option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label>Пароль</label>-->
<!--                        <input type="password" th:field="*{password}" class="form-control" required>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="modal-footer">-->
<!--                    <button type="submit" class="btn btn-success">Сохранить</button>-->
<!--                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>-->
<!--                </div>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Edit User Modal &ndash;&gt;-->
<!--<div class="modal fade" id="editUserModal" tabindex="-1">-->
<!--    <div class="modal-dialog">-->
<!--        <div class="modal-content">-->
<!--            <form id="editForm" method="post">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title">Редактировать пользователя</h5>-->
<!--                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <div class="mb-3">-->
<!--                        <label>Имя</label>-->
<!--                        <input type="text" name="name" class="form-control" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label>Имя пользователя</label>-->
<!--                        <input type="text" name="username" class="form-control" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label>Email</label>-->
<!--                        <input type="email" name="email" class="form-control" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label>Роли</label>-->
<!--                        <select name="roles" multiple class="form-select">-->
<!--                            <option th:each="role : ${role}" th:value="${role.id}" th:text="${role.name}"></option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="modal-footer">-->
<!--                    <button type="submit" class="btn btn-primary">Обновить</button>-->
<!--                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>-->
<!--                </div>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script>-->
<!--    var editUserModal = document.getElementById('editUserModal');-->
<!--    editUserModal.addEventListener('show.bs.modal', function (event) {-->
<!--        var button = event.relatedTarget;-->
<!--        var id = button.getAttribute('data-id');-->
<!--        var name = button.getAttribute('data-name');-->
<!--        var username = button.getAttribute('data-username');-->
<!--        var email = button.getAttribute('data-email');-->
<!--        var roles = button.getAttribute('data-roles').split(',');-->

<!--        var form = document.getElementById('editForm');-->
<!--        form.action = '/admin/' + id;-->
<!--        form.innerHTML = form.innerHTML; // reset fields-->

<!--        form.querySelector('input[name="name"]').value = name;-->
<!--        form.querySelector('input[name="username"]').value = username;-->
<!--        form.querySelector('input[name="email"]').value = email;-->

<!--        var select = form.querySelector('select[name="roles"]');-->
<!--        Array.from(select.options).forEach(option => {-->
<!--            option.selected = roles.includes(option.value);-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->